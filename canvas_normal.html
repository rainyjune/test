<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>canvas</title>
	<style>
	  p {
		width: 200px;
		text-align: center;
	  }
	</style>
  </head>
  <body>
    <p>x3</p>
    <canvas id="canvas" style="width: 200px; height: 200px;"></canvas>
	  <p id="type">普通非高清屏幕</p>
    <script>
function setupCanvas(canvas) {
  // Get display size (css pixels).
  var rect = canvas.getBoundingClientRect();

  // 设置实际的尺寸
  var scale = window.devicePixelRatio || 1;
  canvas.width = Math.floor(rect.width * scale);
  canvas.height = Math.floor(rect.height * scale);  
  
  var ctx = canvas.getContext('2d');
  // 让坐标系统使用CSS像素
  ctx.scale(scale, scale);
  return ctx;
}
var canvas = document.getElementById('canvas');

var ctx = setupCanvas(canvas);
ctx.fillStyle = "#bada55";
ctx.fillRect(0, 0, 300, 300);
ctx.fillStyle = "#ffffff";
ctx.font = '18px Arial';
ctx.textAlign = 'center';
ctx.textBaseline = 'middle';

var textString = "Hello World";
ctx.fillText(textString, 100, 100);


if (window.devicePixelRatio > 1) {
  document.getElementById('type').innerText = '高清屏幕';
}
    </script>
  </body>
</html>
