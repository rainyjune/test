<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>canvas</title>
	<style>
	  p {
		width: 200px;
		text-align: center;
	  }
	</style>
  </head>
  <body>
	  <p>r5</p>
    <canvas id="canvas" style="width: 200px; height: 200px;"></canvas>
	  <p id="type">普通非高清屏幕</p>
    <script>
var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

// Get display size (css pixels).
var rect = canvas.getBoundingClientRect();
	    
// 设置实际的尺寸
var scale = window.devicePixelRatio;
canvas.width = Math.floor(rect.width * scale);
canvas.height = Math.floor(rect.height * scale);
	    
// 让坐标系统使用CSS像素
ctx.scale(scale, scale);

ctx.fillStyle = "#bada55";
ctx.fillRect(0, 0, rect.width, rect.height);
ctx.fillStyle = "#ffffff";
ctx.font = '18px Arial';
ctx.textAlign = 'center';
ctx.textBaseline = 'middle';

var x = rect.width / 2;
var y = rect.height / 2;

var textString = "Hello World";
ctx.fillText(textString, x, y);


if (window.devicePixelRatio > 1) {
  document.getElementById('type').innerText = '高清屏幕';
}
    </script>
  </body>
</html>
