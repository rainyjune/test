<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>canvas</title>
	<style>
	  p {
		width: 200px;
		text-align: center;
	  }
	</style>
  </head>
  <body>
    <canvas id="canvas" style="width: 200px; height: 200px;"></canvas>
	<p>普通非高清屏幕</p>
    <script>
var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

// Get display size (css pixels).
var cssWidth = canvas.getBoundingClientRect().width;
var cssHeight = canvas.getBoundingClientRect().height;

canvas.width = cssWidth;
canvas.height = cssHeight;
	    
// Set actual size in memory (scaled to account for extra pixel density).
var scale = window.devicePixelRatio; // Change to 1 on retina screens to see blurry canvas.
canvas.width = Math.round(cssWidth * scale);
canvas.height = Math.round(cssHeight * scale);

// Normalize coordinate system to use css pixels.
ctx.scale(scale, scale);

ctx.fillStyle = "#bada55";
ctx.fillRect(0, 0, canvas.width, canvas.height);
ctx.fillStyle = "#ffffff";
ctx.font = '18px Arial';
ctx.textAlign = 'center';
ctx.textBaseline = 'middle';

var x = cssWidth / 2;
var y = cssHeight / 2;

var textString = "Hello World";
ctx.fillText(textString, x, y);


if (window.devicePixelRatio > 1) {
  document.getElementsByTagName('p')[0].innerText = 'iPhone 高清屏幕';
}
    </script>
  </body>
</html>
